const presetsModule={layouts:{student:{name:"ðŸ“š Student Mode",description:"Focused on studies and tracking",order:["protocols","sync-status","recharge","credits","quotes"],icon:"ðŸ“š",accent:"primary"},focus:{name:"ðŸŽ¯ Focus Mode",description:"Minimal distractions, maximum focus",order:["system-status","protocols","quotes"],icon:"ðŸŽ¯",accent:"secondary"},wellness:{name:"ðŸ§˜ Wellness Mode",description:"Mental health and wellbeing",order:["system-status","recharge","protocols","quotes"],icon:"ðŸ§˜",accent:"accent"},productivity:{name:"âš¡ Productivity Mode",description:"Complete productivity suite",order:["protocols","sync-status","system-status","credits","recharge","quotes"],icon:"âš¡",accent:"tertiary"}},currentPreset:null,init(){this.loadCurrentPreset()},loadCurrentPreset(){const e=localStorage.getItem("studios_currentPreset");e&&this.layouts[e]&&(this.currentPreset=e)},applyPreset(e){const t=this.layouts[e];return t?(this.currentPreset=e,localStorage.setItem("studios_currentPreset",e),localStorage.setItem("studios_cardLayout",JSON.stringify(t.order)),this.reorderCards(t.order),"function"==typeof showToast&&showToast(`Applied ${t.name}`,"success"),!0):(console.warn("Preset not found:",e),!1)},reorderCards(e){const t=document.querySelector("#dashboard-view .desktop-grid");if(!t)return;const s=t.querySelectorAll("[data-card-id]"),r={};s.forEach(e=>{r[e.dataset.cardId]=e}),e.forEach(e=>{const s=r[e];s&&t.appendChild(s)}),s.forEach(s=>{e.includes(s.dataset.cardId)||t.appendChild(s)}),window.dragDropModule?.updateIndices&&window.dragDropModule.updateIndices()},getCurrentPreset(){return this.currentPreset?this.layouts[this.currentPreset]:null},getPresetList(){return Object.entries(this.layouts).map(([e,t])=>({id:e,...t,isActive:this.currentPreset===e}))},createPresetSelector(e){const t=document.getElementById(e);t&&(t.innerHTML=`\n      <div class="preset-selector">\n        <h3 class="text-sm font-bold text-text-default mb-3 flex items-center gap-2">\n          <span class="material-symbols-outlined text-primary">dashboard_customize</span>\n          Quick Layouts\n        </h3>\n        <div class="grid grid-cols-2 gap-2">\n          ${Object.entries(this.layouts).map(([e,t])=>`\n            <button class="preset-btn p-3 rounded-xl border transition-all text-left hover:scale-[1.02] ${this.currentPreset===e?"bg-"+t.accent+"/20 border-"+t.accent+"/50 shadow-neon":"bg-white/5 border-glass-border hover:border-primary/50"}" \n              data-preset="${e}">\n              <div class="text-lg mb-1">${t.icon}</div>\n              <div class="text-xs font-bold text-text-default">${t.name.replace(/^.+\s/,"")}</div>\n              <div class="text-[10px] text-text-muted">${t.description}</div>\n            </button>\n          `).join("")}\n        </div>\n      </div>\n    `,t.querySelectorAll(".preset-btn").forEach(t=>{t.addEventListener("click",()=>{const s=t.dataset.preset;this.applyPreset(s),this.createPresetSelector(e)})}))},showPresetModal(){const e=document.getElementById("modal-container");e&&(e.innerHTML=`\n      <div class="modal-overlay fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4">\n        <div class="bg-card rounded-3xl p-6 max-w-lg w-full border border-glass-border shadow-2xl">\n          <div class="flex items-center justify-between mb-6">\n            <h2 class="text-xl font-bold text-text-default">ðŸŽ¨ Choose Layout</h2>\n            <button id="close-preset-modal" class="p-2 rounded-full hover:bg-white/10 transition-all">\n              <span class="material-symbols-outlined text-text-muted">close</span>\n            </button>\n          </div>\n          <div class="grid grid-cols-2 gap-4">\n            ${Object.entries(this.layouts).map(([e,t])=>`\n              <button class="preset-card p-4 rounded-2xl border transition-all text-left hover:scale-[1.02] group ${this.currentPreset===e?"bg-primary/20 border-primary/50 shadow-neon ring-2 ring-primary":"bg-white/5 border-glass-border hover:border-primary/50 hover:bg-white/10"}" \n                data-preset="${e}">\n                <div class="text-3xl mb-2 group-hover:scale-110 transition-transform">${t.icon}</div>\n                <div class="text-sm font-bold text-text-default mb-1">${t.name.replace(/^.+\s/,"")}</div>\n                <div class="text-xs text-text-muted">${t.description}</div>\n                ${this.currentPreset===e?'<span class="text-xs text-primary font-bold mt-2 block">âœ“ Active</span>':""}\n              </button>\n            `).join("")}\n          </div>\n          <div class="mt-6 text-center">\n            <p class="text-xs text-text-muted">Or customize manually using the Customize Layout button</p>\n          </div>\n        </div>\n      </div>\n    `,e.classList.remove("hidden"),document.getElementById("close-preset-modal")?.addEventListener("click",()=>{e.classList.add("hidden"),e.innerHTML=""}),e.querySelectorAll(".preset-card").forEach(t=>{t.addEventListener("click",()=>{const s=t.dataset.preset;this.applyPreset(s),e.classList.add("hidden"),e.innerHTML=""})}),e.querySelector(".modal-overlay")?.addEventListener("click",t=>{t.target===t.currentTarget&&(e.classList.add("hidden"),e.innerHTML="")}))}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>presetsModule.init()):presetsModule.init(),window.presetsModule=presetsModule;